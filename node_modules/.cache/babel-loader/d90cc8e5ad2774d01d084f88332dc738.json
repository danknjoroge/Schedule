{"ast":null,"code":"var _jsxFileName = \"/home/moringa/Documents/deploy/retire/freed/one/Class-Schedule-React/src/components/pages/Sesion.js\";\nimport React from 'react';\nimport { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Button, Form, Card } from \"react-bootstrap\";\nimport API from \"./APL\";\nimport './session.css';\nimport { Modal } from 'react-bootstrap';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\n\nconst Sesion = () => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n  const [sessionId, setSessionId] = useState(null);\n  const [sessions, setSessions] = useState([]);\n  const auth = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  console.log(auth);\n  useEffect(() => {\n    refreshSessions();\n  }, []);\n\n  const refreshSessions = () => {\n    API.get(\"/\").then(res => {\n      setSessions(res.data);\n    }).catch(console.error);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault(); // e.target.reset();\n\n    let item = {\n      title,\n      description,\n      date,\n      time,\n      link\n    };\n    API.post(\"/\", item).then(() => refreshSessions());\n    setTitle(\"\");\n    setDescription(\"\");\n    setDate(\"\");\n    setTime(\"\");\n    setLink(\"\");\n  };\n\n  const onUpdate = id => {\n    let item = {\n      title,\n      description,\n      date,\n      time,\n      link\n    };\n    API.patch(`/${id}/`, item).then(res => refreshSessions());\n    setTitle(\"\");\n    setDescription(\"\");\n    setDate(\"\");\n    setTime(\"\");\n    setLink(\"\");\n  };\n\n  const onDelete = id => {\n    API.delete(`/${id}/`).then(res => refreshSessions());\n  };\n\n  function selectSession(id) {\n    let item = sessions.filter(session => session.id === id)[0];\n    setTitle(item.title);\n    setDescription(item.description);\n    setDate(item.date);\n    setTime(item.time);\n    setLink(item.link);\n    setSessionId(item.id);\n  }\n\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const showModal = () => {\n    setIsOpen(true);\n  };\n\n  const hideModal = () => {\n    setIsOpen(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row  page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, auth.isStudent ? null : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 mt-5 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: showModal,\n    className: \"btn btn-primary \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \" Add a New Session\"), /*#__PURE__*/React.createElement(Modal, {\n    show: isOpen,\n    onHide: hideModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 24\n    }\n  }, \"New Session \"))), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    className: \"mt-4\",\n    style: {\n      padding: '20px',\n      backgroundColor: 'whitesmoke'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formBasicTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, sessionId, \"Session Title\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter The Title\",\n    value: title,\n    onChange: e => setTitle(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formBasicDetscription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, \"Session Details\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    rows: 3,\n    type: \"textarea\",\n    placeholder: \"Enter Session Details\",\n    value: description,\n    onChange: e => setDescription(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formBasicDate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \" Select Date\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"date\",\n    placeholder: \"Date\",\n    value: date,\n    onChange: e => setDate(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formBasicTime\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, \" Session Time\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Time\",\n    value: time,\n    onChange: e => setTime(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formBasicLink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, \" Session Link\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Time\",\n    value: link,\n    onChange: e => setLink(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    onClick: onSubmit,\n    className: \"mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"button\",\n    onClick: () => onUpdate(sessionId),\n    className: \"mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    type: \"button\",\n    onClick: hideModal,\n    className: \"mx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, \"Close\")))))), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \" mt-4m title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, \"Available Sessions \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, sessions.map((session, index) => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"text-center card m-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, session.title), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 23\n      }\n    }, \"Session Details\"), /*#__PURE__*/React.createElement(Card.Text, {\n      className: \"des\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 23\n      }\n    }, \" \", session.description, \" \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 85\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 23\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 23\n      }\n    }, \" \", moment(session.date).utc().format('YYYY-MM-DD'), \" from, \", session.time), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 126\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 23\n      }\n    }, \"Time\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"btn btn-primary\",\n      target: \"_blank\",\n      href: session.link,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 23\n      }\n    }, \"Join Session\")), /*#__PURE__*/React.createElement(Card.Footer, {\n      className: \"bg-default \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }\n    }, auth.isStudent ? null : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      type: \"button\",\n      onClick: () => {\n        selectSession(session.id);\n        showModal();\n      },\n      className: \"mx-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      type: \"button\",\n      onClick: () => onDelete(session.id),\n      className: \"mx-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 25\n      }\n    }, \"Delete\"))))));\n  }))))) // </div>\n  ;\n};\n\nexport default Sesion;","map":{"version":3,"sources":["/home/moringa/Documents/deploy/retire/freed/one/Class-Schedule-React/src/components/pages/Sesion.js"],"names":["React","useState","useEffect","FontAwesomeIcon","useSelector","useDispatch","Button","Form","Card","API","Modal","moment","Link","Redirect","Sesion","title","setTitle","description","setDescription","date","setDate","time","setTime","link","setLink","sessionId","setSessionId","sessions","setSessions","auth","state","dispatch","console","log","refreshSessions","get","then","res","data","catch","error","onSubmit","e","preventDefault","item","post","onUpdate","id","patch","onDelete","delete","selectSession","filter","session","isOpen","setIsOpen","showModal","hideModal","isStudent","padding","backgroundColor","target","value","map","index","utc","format"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {useSelector, useDispatch} from 'react-redux';\nimport { Button, Form , Card} from \"react-bootstrap\";\nimport API from \"./APL\";\nimport './session.css';\nimport {  Modal } from 'react-bootstrap';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport  { Redirect } from 'react-router-dom'\n\n\n\nconst Sesion = () => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\")\n  const [date, setDate] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  const [sessionId, setSessionId] = useState(null);\n  const [sessions, setSessions] = useState([]);\n\n  const auth= useSelector((state) => state.auth)\n  const dispatch=useDispatch()\n  console.log(auth);\n\n  useEffect(() => {\n    refreshSessions();\n  }, []);\n\n  const refreshSessions = () => {\n    API.get(\"/\")\n      .then((res) => {\n        setSessions(res.data);\n      })\n      .catch(console.error);\n  };\n  \n  const onSubmit = (e) => {\n    e.preventDefault();\n    // e.target.reset();\n    let item = { title, description, date, time, link };\n    API.post(\"/\", item).then(() => refreshSessions());\n    setTitle(\"\")\n    setDescription(\"\")\n    setDate(\"\")\n    setTime(\"\")\n    setLink(\"\")\n  };\n\n  const onUpdate = (id) => {\n    let item = { title, description, date, time, link };\n    API.patch(`/${id}/`, item).then((res) => refreshSessions());\n    setTitle(\"\")\n    setDescription(\"\")\n    setDate(\"\")\n    setTime(\"\")\n    setLink(\"\")\n  }\n  const onDelete = (id) => {\n    API.delete(`/${id}/`).then((res) => refreshSessions());\n  };\n  function selectSession(id) {\n    let item = sessions.filter((session) => session.id === id)[0];\n    setTitle(item.title);\n    setDescription(item.description);\n    setDate(item.date);\n    setTime(item.time);\n    setLink(item.link);\n    setSessionId(item.id);\n  }\n  const [isOpen, setIsOpen] = React.useState(false);\n  const showModal = () => {\n    setIsOpen(true);\n  };\n  const hideModal = () => {\n    setIsOpen(false);\n  };\n\n\n  return (\n    <div className='mt-5 '>\n        <div className=\"container mt-5\">\n      <div className=\"row  page\">\n\n      {auth.isStudent ? null:<>\n        <div className=\"col-md-4 mt-5 \">\n\n        <Button onClick={showModal} className='btn btn-primary '> Add a New Session</Button>\n\n        <Modal show={isOpen} onHide={hideModal}>\n        <Modal.Header>\n          <Modal.Title><h1>New Session </h1></Modal.Title>\n        </Modal.Header>\n          <Form onSubmit={onSubmit} className=\"mt-4\" style={{padding:'20px',backgroundColor:'whitesmoke'}}>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicTitle\">\n              <Form.Label>{sessionId}Session Title</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter The Title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicDetscription\">\n              <Form.Label>Session Details</Form.Label>\n              <Form.Control as=\"textarea\" rows={3}\n                type=\"textarea\"\n                placeholder=\"Enter Session Details\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicDate\">\n              <Form.Label> Select Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                placeholder=\"Date\"\n                value={date}\n                onChange={(e) => setDate(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicTime\">\n              <Form.Label> Session Time</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Time\"\n                value={time}\n                onChange={(e) => setTime(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicLink\">\n              <Form.Label> Session Link</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Time\"\n                value={link}\n                onChange={(e) => setLink(e.target.value)}\n              />\n            </Form.Group>\n\n            <div className=\"float-right\">\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                onClick={onSubmit}\n                className=\"mx-2\"\n              >\n                Save\n              </Button>\n              <Button\n                variant=\"primary\"\n                type=\"button\"\n                onClick={() => onUpdate(sessionId)}\n                className=\"mx-2\"\n              >\n                Update\n              </Button>\n              <Button\n                variant=\"danger\"\n                type=\"button\"\n                onClick={hideModal}\n                className=\"mx-2\"\n              >\n                Close\n              </Button>\n            </div>\n          </Form>\n          </Modal>\n\n        </div>\n        </>}\n        <h3 className=\" mt-4m title text-center\">Available Sessions </h3>\n\n        {/* <div className=\"col-md-8 mt-5\"> */}\n          <div className=\"row\">\n\n          {/* <table class=\"table mt-4\">\n            <thead>\n              <tr>\n                <th scope=\"col\"></th>\n                <th scope=\"col\">Title</th>\n                <th scope=\"col\">Session Details</th>\n                <th scope=\"col\">Session Date</th>\n                <th scope=\"col\">Time</th>\n                <th scope=\"col\">Session Link</th>\n              </tr>\n            </thead>\n            <tbody> */}\n              {sessions.map((session, index) => {\n                \n                return (\n\n                  \n                  <>\n                  {/* <tr key=\"\">\n                    <th scope=\"row\">{session.id}</th>\n                    <td> {session.title}</td>\n                    <td>{session.description}</td>\n                    <td>{session.date}</td>\n                    <td>{session.time}</td>\n                    <td>{session.link}</td>\n\n\n\n\n\n\n\n                    <td>\n                      {auth.isStudent ? null : <>\n                        <Button\n                          variant=\"secondary\"\n                          type=\"button\"\n                          onClick={() => selectSession(session.id)}\n                          className=\"mx-2\"\n                        >\n                          Edit\n                        </Button>\n                        <Button\n                          variant=\"danger\"\n                          type=\"button\"\n                          onClick={() => onDelete(session.id)}\n                          className=\"mx-2\"\n                        >\n                          Delete\n                        </Button>\n                      </>}\n\n                    </td>\n                  </tr> */}                 \n                  <div className=\"col-md-4 mt-3\">\n\n                  <Card className=\"text-center card m-3\">\n                    <Card.Header>{session.title}</Card.Header>\n                    <Card.Body>\n                      <Card.Title>Session Details</Card.Title>\n                      <Card.Text className='des'> {session.description} </Card.Text><br/>\n                      <h4>Date</h4>\n                      <Card.Subtitle > {moment(session.date).utc().format('YYYY-MM-DD')} from, {session.time}</Card.Subtitle><br/>\n                      <h4>Time</h4>\n                      <a className=\"btn btn-primary\" target='_blank' href={session.link} >Join Session</a>\n              \n                      {/* <Button variant=\"primary\">Go somewhere</Button> */}\n                    </Card.Body>\n                    <Card.Footer className=\"bg-default \">\n                    {auth.isStudent ? null : <>\n                        <Button\n                          variant=\"secondary\"\n                          type=\"button\"\n                          onClick={\n                            () =>{\n                              selectSession(session.id)\n                              showModal()\n                             } \n                                 }\n                          className=\"mx-2\"\n                        >\n                          Edit\n                        </Button>\n                        <Button\n                          variant=\"danger\"\n                          type=\"button\"\n                          onClick={() => onDelete(session.id)}\n                          className=\"mx-2\"\n                        >\n                          Delete\n                        </Button>\n                      </>}\n                    </Card.Footer>\n                  </Card>\n                  </div>\n                    </>\n                );\n                \n              })}\n            {/* </tbody>\n          </table> */}\n        </div>\n      </div>\n      </div>\n    </div>\n    // </div>\n  )\n}\n\nexport default Sesion"]},"metadata":{},"sourceType":"module"}