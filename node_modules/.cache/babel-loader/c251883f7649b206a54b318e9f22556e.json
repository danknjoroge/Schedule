{"ast":null,"code":"import _objectSpread from\"/home/moringa/Documents/tif/vow/ui/Class-Schedule-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{STUDENT_USER_LOADED,STUDENT_USER_FAILED,TM_USER_LOADED,TM_USER_FAILED,LOGIN_SUCCESS,LOGIN_FAILED,LOGOUT_SUCCESS,REGISTER_FUSER_SUCCESS,REGISTER_FUSER_FAILED,REGISTER_CUSER_SUCCESS,REGISTER_CUSER_FAILED}from\"../actions/type\";var initialState={token:localStorage.getItem('token'),isAuthenticated:false,isStudent:null,isLoading:false,user:null};export var authReducer=function authReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case REGISTER_CUSER_SUCCESS:case REGISTER_FUSER_SUCCESS:localStorage.setItem('token',action.payload.token);return _objectSpread(_objectSpread(_objectSpread({},state),action.payload),{},{isAuthenticated:true,isStudent:action.payload.user.is_student,isLoading:false});case STUDENT_USER_LOADED:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,isStudent:true,user:action.payload});case TM_USER_LOADED:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,isLoading:false,isStudent:false,user:action.payload});case LOGIN_SUCCESS:localStorage.setItem('token',action.payload.token);return _objectSpread(_objectSpread(_objectSpread({},state),action.payload),{},{isAuthenticated:true,isLoading:false,isStudent:action.payload.is_student});case REGISTER_CUSER_FAILED:case REGISTER_FUSER_FAILED:case LOGIN_FAILED:localStorage.removeItem('token');return _objectSpread(_objectSpread({},state),{},{token:null,isStudent:null,isAuthenticated:false,isLoading:false});case STUDENT_USER_FAILED:case TM_USER_FAILED:case LOGOUT_SUCCESS:localStorage.removeItem('token');return _objectSpread(_objectSpread({},state),{},{token:null,isStudent:null,isAuthenticated:false,isLoading:false});}return state;};export default authReducer;","map":{"version":3,"sources":["/home/moringa/Documents/tif/vow/ui/Class-Schedule-React/src/reducers/authReducer.js"],"names":["STUDENT_USER_LOADED","STUDENT_USER_FAILED","TM_USER_LOADED","TM_USER_FAILED","LOGIN_SUCCESS","LOGIN_FAILED","LOGOUT_SUCCESS","REGISTER_FUSER_SUCCESS","REGISTER_FUSER_FAILED","REGISTER_CUSER_SUCCESS","REGISTER_CUSER_FAILED","initialState","token","localStorage","getItem","isAuthenticated","isStudent","isLoading","user","authReducer","state","action","type","setItem","payload","is_student","removeItem"],"mappings":"6KAAA,OAASA,mBAAT,CAA8BC,mBAA9B,CAAmDC,cAAnD,CACIC,cADJ,CACoBC,aADpB,CACmCC,YADnC,CACgDC,cADhD,CACgEC,sBADhE,CAEIC,qBAFJ,CAE2BC,sBAF3B,CAEmDC,qBAFnD,KAGO,iBAHP,CAKA,GAAMC,CAAAA,YAAY,CAAC,CACfC,KAAK,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADS,CAEfC,eAAe,CAAC,KAFD,CAGfC,SAAS,CAAC,IAHK,CAIfC,SAAS,CAAC,KAJK,CAKfC,IAAI,CAAC,IALU,CAAnB,CAQA,MAAO,IAAMC,CAAAA,WAAW,CAAC,QAAZA,CAAAA,WAAY,EAA8B,IAA7BC,CAAAA,KAA6B,2DAAvBT,YAAuB,IAATU,CAAAA,MAAS,2CACnD,OAAOA,MAAM,CAACC,IAAd,EACI,IAAKb,CAAAA,sBAAL,CACA,IAAKF,CAAAA,sBAAL,CACIM,YAAY,CAACU,OAAb,CAAqB,OAArB,CAA8BF,MAAM,CAACG,OAAP,CAAeZ,KAA7C,EACA,oDACOQ,KADP,EAEOC,MAAM,CAACG,OAFd,MAGIT,eAAe,CAAC,IAHpB,CAIIC,SAAS,CAACK,MAAM,CAACG,OAAP,CAAeN,IAAf,CAAoBO,UAJlC,CAKIR,SAAS,CAAC,KALd,GAOJ,IAAKjB,CAAAA,mBAAL,CACI,sCACOoB,KADP,MAEIL,eAAe,CAAC,IAFpB,CAGIC,SAAS,CAAC,IAHd,CAIIE,IAAI,CAACG,MAAM,CAACG,OAJhB,GAMA,IAAKtB,CAAAA,cAAL,CACI,sCACOkB,KADP,MAEIL,eAAe,CAAC,IAFpB,CAGIE,SAAS,CAAC,KAHd,CAIID,SAAS,CAAC,KAJd,CAKIE,IAAI,CAACG,MAAM,CAACG,OALhB,GAQR,IAAKpB,CAAAA,aAAL,CACIS,YAAY,CAACU,OAAb,CAAqB,OAArB,CAA8BF,MAAM,CAACG,OAAP,CAAeZ,KAA7C,EACA,oDACOQ,KADP,EAEOC,MAAM,CAACG,OAFd,MAGIT,eAAe,CAAC,IAHpB,CAIIE,SAAS,CAAC,KAJd,CAKID,SAAS,CAACK,MAAM,CAACG,OAAP,CAAeC,UAL7B,GASJ,IAAKf,CAAAA,qBAAL,CACA,IAAKF,CAAAA,qBAAL,CACA,IAAKH,CAAAA,YAAL,CACIQ,YAAY,CAACa,UAAb,CAAwB,OAAxB,EACA,sCACON,KADP,MAEIR,KAAK,CAAC,IAFV,CAGII,SAAS,CAAC,IAHd,CAIID,eAAe,CAAC,KAJpB,CAKIE,SAAS,CAAC,KALd,GAQA,IAAKhB,CAAAA,mBAAL,CACA,IAAKE,CAAAA,cAAL,CACA,IAAKG,CAAAA,cAAL,CACIO,YAAY,CAACa,UAAb,CAAwB,OAAxB,EACA,sCACON,KADP,MAEIR,KAAK,CAAC,IAFV,CAGII,SAAS,CAAC,IAHd,CAIID,eAAe,CAAC,KAJpB,CAKIE,SAAS,CAAC,KALd,GAtDZ,CA8DA,MAAOG,CAAAA,KAAP,CACH,CAhEM,CAmEP,cAAeD,CAAAA,WAAf","sourcesContent":["import { STUDENT_USER_LOADED, STUDENT_USER_FAILED, TM_USER_LOADED,\n    TM_USER_FAILED, LOGIN_SUCCESS, LOGIN_FAILED,LOGOUT_SUCCESS, REGISTER_FUSER_SUCCESS,\n    REGISTER_FUSER_FAILED, REGISTER_CUSER_SUCCESS, REGISTER_CUSER_FAILED\n} from \"../actions/type\"\n\nconst initialState={\n    token:localStorage.getItem('token'),\n    isAuthenticated:false,\n    isStudent:null,\n    isLoading:false,\n    user:null\n}\n\nexport const authReducer=(state=initialState, action)=>{\n    switch(action.type){\n        case REGISTER_CUSER_SUCCESS:\n        case REGISTER_FUSER_SUCCESS:\n            localStorage.setItem('token', action.payload.token)\n            return {\n                ...state,\n                ...action.payload,\n                isAuthenticated:true,\n                isStudent:action.payload.user.is_student,\n                isLoading:false\n            }\n        case STUDENT_USER_LOADED:\n            return{\n                ...state,\n                isAuthenticated:true,\n                isStudent:true,\n                user:action.payload\n            }\n            case TM_USER_LOADED:\n                return {\n                    ...state,\n                    isAuthenticated:true,\n                    isLoading:false,\n                    isStudent:false,\n                    user:action.payload\n                }\n\n        case LOGIN_SUCCESS:\n            localStorage.setItem('token', action.payload.token)\n            return {\n                ...state,\n                ...action.payload,\n                isAuthenticated:true,\n                isLoading:false,\n                isStudent:action.payload.is_student,\n                \n            }\n\n        case REGISTER_CUSER_FAILED:\n        case REGISTER_FUSER_FAILED:\n        case LOGIN_FAILED:\n            localStorage.removeItem('token')\n            return{\n                ...state,\n                token:null,\n                isStudent:null,\n                isAuthenticated:false,\n                isLoading:false\n            }\n\n            case STUDENT_USER_FAILED:\n            case TM_USER_FAILED:\n            case LOGOUT_SUCCESS:\n                localStorage.removeItem('token')\n                return {\n                    ...state,\n                    token:null,\n                    isStudent:null,\n                    isAuthenticated:false,\n                    isLoading:false,\n                }\n    }\n    return state;\n}\n\n\nexport default authReducer"]},"metadata":{},"sourceType":"module"}