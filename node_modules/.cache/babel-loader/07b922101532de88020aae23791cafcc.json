{"ast":null,"code":"import _slicedToArray from\"/home/moringa/Documents/tif/vow/ui/Class-Schedule-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from\"react\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{useSelector,useDispatch}from'react-redux';import{Button,Form,Card}from\"react-bootstrap\";import API from\"./APL\";import'./session.css';import{Modal}from'react-bootstrap';import moment from'moment';import{Link}from'react-router-dom';import{Redirect}from'react-router-dom';import{Row,Col}from'react-grid';var Sesion=function Sesion(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),time=_useState8[0],setTime=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),link=_useState10[0],setLink=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),sessionId=_useState12[0],setSessionId=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),sessions=_useState14[0],setSessions=_useState14[1];var auth=useSelector(function(state){return state.auth;});var dispatch=useDispatch();console.log(auth);useEffect(function(){refreshSessions();},[]);var refreshSessions=function refreshSessions(){API.get(\"/\").then(function(res){setSessions(res.data);}).catch(console.error);};var onSubmit=function onSubmit(e){e.preventDefault();// e.target.reset();\nvar item={title:title,description:description,date:date,time:time,link:link};API.post(\"/\",item).then(function(){return refreshSessions();});setTitle(\"\");setDescription(\"\");setDate(\"\");setTime(\"\");setLink(\"\");};var onUpdate=function onUpdate(id){var item={title:title,description:description,date:date,time:time,link:link};API.patch(\"/\".concat(id,\"/\"),item).then(function(res){return refreshSessions();});setTitle(\"\");setDescription(\"\");setDate(\"\");setTime(\"\");setLink(\"\");};var onDelete=function onDelete(id){API.delete(\"/\".concat(id,\"/\")).then(function(res){return refreshSessions();});};function selectSession(id){var item=sessions.filter(function(session){return session.id===id;})[0];setTitle(item.title);setDescription(item.description);setDate(item.date);setTime(item.time);setLink(item.link);setSessionId(item.id);}var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isOpen=_React$useState2[0],setIsOpen=_React$useState2[1];var showModal=function showModal(){setIsOpen(true);};var hideModal=function hideModal(){setIsOpen(false);};return/*#__PURE__*/React.createElement(Row,{className:\"mt-2\"},/*#__PURE__*/React.createElement(Col,{className:\"announcement mt-4\",sm:2,style:{background:\"#18183D\",height:\"800px\",color:\"white\",overflow:'hidden',position:\"fixed\"}},/*#__PURE__*/React.createElement(\"li\",{style:{listStyleType:\"none\"},className:\"nav-item\"},\" \",/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Link,{to:\"/announcements\",className:\"nav-links\"},\"Announcements\")),/*#__PURE__*/React.createElement(\"li\",{style:{listStyleType:\"none\"},className:\"nav-item\"},\"  \",/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Link,{to:\"/sesion\",className:\"nav-links\"},\"Sessions\")),/*#__PURE__*/React.createElement(\"li\",{style:{listStyleType:\"none\"},className:\"nav-item\"},\" \",/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Link,{to:\"/schedule\",className:\"nav-links\"},\"Schedule\")),\" \",/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\",style:{listStyleType:\"none\"}},auth.isStudent?null:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{to:\"/addstudent\",className:\"nav-links\"},\"Add Student\"))),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\",style:{listStyleType:\"none\"}},auth.isStudent?null:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{to:\"/newannouncement\",className:\"nav-links\"},\"Add Announcement\")))),/*#__PURE__*/React.createElement(Col,{className:\"\",style:{marginLeft:'240px'},sm:10},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row  page\"},auth.isStudent?null:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 mt-5 \"},/*#__PURE__*/React.createElement(Button,{onClick:showModal,className:\"btn\",style:{backgroundColor:\"#18183D\",color:'white',fontWeight:'bold'}},\" Add a New Session\"),/*#__PURE__*/React.createElement(Modal,{show:isOpen,onHide:hideModal},/*#__PURE__*/React.createElement(Modal.Header,null,/*#__PURE__*/React.createElement(Modal.Title,null,/*#__PURE__*/React.createElement(\"h1\",null,\"New Session \"))),/*#__PURE__*/React.createElement(Form,{onSubmit:onSubmit,className:\"mt-4\",style:{padding:'20px',backgroundColor:'whitesmoke'}},/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicTitle\"},/*#__PURE__*/React.createElement(Form.Label,null,sessionId,\"Session Title\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter The Title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicDetscription\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Session Details\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",rows:3,type:\"textarea\",placeholder:\"Enter Session Details\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicDate\"},/*#__PURE__*/React.createElement(Form.Label,null,\" Select Date\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"date\",placeholder:\"Date\",value:date,onChange:function onChange(e){return setDate(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicTime\"},/*#__PURE__*/React.createElement(Form.Label,null,\" Session Time\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Time\",value:time,onChange:function onChange(e){return setTime(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{className:\"mb-3\",controlId:\"formBasicLink\"},/*#__PURE__*/React.createElement(Form.Label,null,\" Session Link\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Time\",value:link,onChange:function onChange(e){return setLink(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"float-right\"},/*#__PURE__*/React.createElement(Button,{variant:\"\",style:{backgroundColor:\"#18183D\",color:'white',fontWeight:'bold'},type:\"submit\",onClick:onSubmit,className:\"mx-2\"},\"Save\"),/*#__PURE__*/React.createElement(Button,{variant:\"\",style:{backgroundColor:\"#18183D\",color:'white',fontWeight:'bold'},type:\"button\",onClick:function onClick(){return onUpdate(sessionId);},className:\"mx-2\"},\"Update\"),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",type:\"button\",onClick:hideModal,className:\"mx-2\"},\"Close\")))))),/*#__PURE__*/React.createElement(\"h3\",{className:\" mt-4m title text-left fw-bold\"},\"| Available Sessions \"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},sessions.map(function(session,index){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 mt-3\"},/*#__PURE__*/React.createElement(Card,{className:\"text-center card m-3\"},/*#__PURE__*/React.createElement(Card.Header,null,session.title),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,\"Session Details\"),/*#__PURE__*/React.createElement(Card.Text,{className:\"des\"},\" \",session.description,\" \"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h4\",null,\"Date\"),/*#__PURE__*/React.createElement(Card.Subtitle,null,\" \",moment(session.date).utc().format('YYYY-MM-DD'),\" from, \",session.time),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h4\",null,\"Time\"),/*#__PURE__*/React.createElement(\"a\",{className:\"btn \",style:{backgroundColor:\"#18183D\",color:'white',fontWeight:'bold'},target:\"_blank\",href:session.link},\"Join Session\")),/*#__PURE__*/React.createElement(Card.Footer,{className:\"bg-default \"},auth.isStudent?null:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{variant:\"\",style:{backgroundColor:\"#18183D\",color:'white',fontWeight:'bold'},type:\"button\",onClick:function onClick(){selectSession(session.id);showModal();},className:\"mx-2\"},\"Edit\"),/*#__PURE__*/React.createElement(Button,{variant:\"danger\",type:\"button\",onClick:function onClick(){return onDelete(session.id);},className:\"mx-2\"},\"Delete\"))))));})))))));};export default Sesion;","map":{"version":3,"sources":["/home/moringa/Documents/tif/vow/ui/Class-Schedule-React/src/components/pages/Sesion.js"],"names":["React","useState","useEffect","FontAwesomeIcon","useSelector","useDispatch","Button","Form","Card","API","Modal","moment","Link","Redirect","Row","Col","Sesion","title","setTitle","description","setDescription","date","setDate","time","setTime","link","setLink","sessionId","setSessionId","sessions","setSessions","auth","state","dispatch","console","log","refreshSessions","get","then","res","data","catch","error","onSubmit","e","preventDefault","item","post","onUpdate","id","patch","onDelete","delete","selectSession","filter","session","isOpen","setIsOpen","showModal","hideModal","background","height","color","overflow","position","listStyleType","isStudent","marginLeft","backgroundColor","fontWeight","padding","target","value","map","index","utc","format"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {useSelector, useDispatch} from 'react-redux';\nimport { Button, Form , Card} from \"react-bootstrap\";\nimport API from \"./APL\";\nimport './session.css';\nimport {  Modal } from 'react-bootstrap';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport  { Redirect } from 'react-router-dom'\nimport {  Row, Col } from 'react-grid';\n\n\n\n\nconst Sesion = () => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\")\n  const [date, setDate] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  const [sessionId, setSessionId] = useState(null);\n  const [sessions, setSessions] = useState([]);\n\n  const auth= useSelector((state) => state.auth)\n  const dispatch=useDispatch()\n  console.log(auth);\n\n  useEffect(() => {\n    refreshSessions();\n  }, []);\n\n  const refreshSessions = () => {\n    API.get(\"/\")\n      .then((res) => {\n        setSessions(res.data);\n      })\n      .catch(console.error);\n  };\n  \n  const onSubmit = (e) => {\n    e.preventDefault();\n    // e.target.reset();\n    let item = { title, description, date, time, link };\n    API.post(\"/\", item).then(() => refreshSessions());\n    setTitle(\"\")\n    setDescription(\"\")\n    setDate(\"\")\n    setTime(\"\")\n    setLink(\"\")\n  };\n\n  const onUpdate = (id) => {\n    let item = { title, description, date, time, link };\n    API.patch(`/${id}/`, item).then((res) => refreshSessions());\n    setTitle(\"\")\n    setDescription(\"\")\n    setDate(\"\")\n    setTime(\"\")\n    setLink(\"\")\n  }\n  const onDelete = (id) => {\n    API.delete(`/${id}/`).then((res) => refreshSessions());\n  };\n  function selectSession(id) {\n    let item = sessions.filter((session) => session.id === id)[0];\n    setTitle(item.title);\n    setDescription(item.description);\n    setDate(item.date);\n    setTime(item.time);\n    setLink(item.link);\n    setSessionId(item.id);\n  }\n  const [isOpen, setIsOpen] = React.useState(false);\n  const showModal = () => {\n    setIsOpen(true);\n  };\n  const hideModal = () => {\n    setIsOpen(false);\n  };\n\n\n  return (\n    <Row className='mt-2'>   \n    <Col className=\"announcement mt-4\"  sm={2} style={{background: \"#18183D\",height: \"800px\", color:\"white\", overflow: 'hidden',position:\"fixed\", }}>\n            <li style={{listStyleType: \"none\"}} className='nav-item'> <hr />\n              <Link to='/announcements' className='nav-links' >\n                Announcements\n              </Link>\n            </li>\n            <li style={{listStyleType: \"none\"}} className='nav-item'>  <hr />\n              <Link to='/sesion' className='nav-links' >\n                Sessions\n              </Link>\n            </li>\n          \n\n            <li style={{listStyleType: \"none\"}} className='nav-item'> <hr />\n              <Link\n                to='/schedule'\n                className='nav-links'\n               \n              >\n                Schedule\n              </Link>\n            </li> <hr />\n\n            <li className='nav-item' style={{listStyleType: \"none\"}}>\n            \n              {auth.isStudent ? null : <>\n                <Link to='/addstudent' className='nav-links' >\n                Add Student\n              </Link>\n              \n           </>\n             }\n\n            </li>\n            <li className='nav-item' style={{listStyleType: \"none\"}}>\n            \n              {auth.isStudent ? null : <>\n                <Link to='/newannouncement' className='nav-links' >\n                Add Announcement\n              </Link>\n              \n           </>\n             }\n\n            </li>\n         \n\n</Col>\n<Col className=''  style={{marginLeft:'240px'}} sm={10}>\n\n    <div className=''>\n        <div className=\"container mt-5\">\n      <div className=\"row  page\">\n\n      {auth.isStudent ? null:<>\n        <div className=\"col-md-4 mt-5 \">\n\n        <Button onClick={showModal} className='btn' style={{backgroundColor: \"#18183D\",color:'white',fontWeight:'bold'}}> Add a New Session</Button>\n\n        <Modal show={isOpen} onHide={hideModal}>\n        <Modal.Header>\n          <Modal.Title><h1>New Session </h1></Modal.Title>\n        </Modal.Header>\n          <Form onSubmit={onSubmit} className=\"mt-4\" style={{padding:'20px',backgroundColor:'whitesmoke'}}>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicTitle\">\n              <Form.Label>{sessionId}Session Title</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter The Title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicDetscription\">\n              <Form.Label>Session Details</Form.Label>\n              <Form.Control as=\"textarea\" rows={3}\n                type=\"textarea\"\n                placeholder=\"Enter Session Details\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicDate\">\n              <Form.Label> Select Date</Form.Label>\n              <Form.Control\n                type=\"date\"\n                placeholder=\"Date\"\n                value={date}\n                onChange={(e) => setDate(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicTime\">\n              <Form.Label> Session Time</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Time\"\n                value={time}\n                onChange={(e) => setTime(e.target.value)}\n              />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicLink\">\n              <Form.Label> Session Link</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Time\"\n                value={link}\n                onChange={(e) => setLink(e.target.value)}\n              />\n            </Form.Group>\n\n            <div className=\"float-right\">\n              <Button\n                variant=\"\"\n                style={{backgroundColor: \"#18183D\",color:'white',fontWeight:'bold'}}\n                type=\"submit\"\n                onClick={onSubmit}\n                className=\"mx-2\"\n              >\n                Save\n              </Button>\n              <Button\n                variant=\"\"\n                style={{backgroundColor: \"#18183D\",color:'white',fontWeight:'bold'}}\n                type=\"button\"\n                onClick={() => onUpdate(sessionId)}\n                className=\"mx-2\"\n              >\n                Update\n              </Button>\n              <Button\n                variant=\"danger\"\n                type=\"button\"\n                onClick={hideModal}\n                className=\"mx-2\"\n              >\n                Close\n              </Button>\n            </div>\n          </Form>\n          </Modal>\n\n        </div>\n        </>}\n        <h3 className=\" mt-4m title text-left fw-bold\">| Available Sessions </h3>\n\n        {/* <div className=\"col-md-8 mt-5\"> */}\n          <div className=\"row\">\n\n          {/* <table class=\"table mt-4\">\n            <thead>\n              <tr>\n                <th scope=\"col\"></th>\n                <th scope=\"col\">Title</th>\n                <th scope=\"col\">Session Details</th>\n                <th scope=\"col\">Session Date</th>\n                <th scope=\"col\">Time</th>\n                <th scope=\"col\">Session Link</th>\n              </tr>\n            </thead>\n            <tbody> */}\n              {sessions.map((session, index) => {\n                \n                return (\n\n                  \n                  <>\n                  {/* <tr key=\"\">\n                    <th scope=\"row\">{session.id}</th>\n                    <td> {session.title}</td>\n                    <td>{session.description}</td>\n                    <td>{session.date}</td>\n                    <td>{session.time}</td>\n                    <td>{session.link}</td>\n\n\n\n\n\n\n\n                    <td>\n                      {auth.isStudent ? null : <>\n                        <Button\n                          variant=\"secondary\"\n                          type=\"button\"\n                          onClick={() => selectSession(session.id)}\n                          className=\"mx-2\"\n                        >\n                          Edit\n                        </Button>\n                        <Button\n                          variant=\"danger\"\n                          type=\"button\"\n                          onClick={() => onDelete(session.id)}\n                          className=\"mx-2\"\n                        >\n                          Delete\n                        </Button>\n                      </>}\n\n                    </td>\n                  </tr> */}                 \n                  <div className=\"col-md-4 mt-3\">\n\n                  <Card className=\"text-center card m-3\">\n                    <Card.Header>{session.title}</Card.Header>\n                    <Card.Body>\n                      <Card.Title>Session Details</Card.Title>\n                      <Card.Text className='des'> {session.description} </Card.Text><br/>\n                      <h4>Date</h4>\n                      <Card.Subtitle > {moment(session.date).utc().format('YYYY-MM-DD')} from, {session.time}</Card.Subtitle><br/>\n                      <h4>Time</h4>\n                      <a className=\"btn \"                 style={{backgroundColor: \"#18183D\",color:'white',fontWeight:'bold'}}\n target='_blank' href={session.link} >Join Session</a>\n              \n                      {/* <Button variant=\"primary\">Go somewhere</Button> */}\n                    </Card.Body>\n                    <Card.Footer className=\"bg-default \">\n                    {auth.isStudent ? null : <>\n                        <Button\n                          variant=\"\"\n                          style={{backgroundColor: \"#18183D\",color:'white',fontWeight:'bold'}}\n                          type=\"button\"\n                          onClick={\n                            () =>{\n                              selectSession(session.id)\n                              showModal()\n                             } \n                                 }\n                          className=\"mx-2\"\n                        >\n                          Edit\n                        </Button>\n                        <Button\n                          variant=\"danger\"\n                          type=\"button\"\n                          onClick={() => onDelete(session.id)}\n                          className=\"mx-2\"\n                        >\n                          Delete\n                        </Button>\n                      </>}\n                    </Card.Footer>\n                  </Card>\n                  </div>\n                    </>\n                );\n                \n              })}\n            {/* </tbody>\n          </table> */}\n        </div>\n      </div>\n      </div>\n    </div>\n    </Col>\n    \n  </Row>\n  )\n}\n\nexport default Sesion"]},"metadata":{},"sourceType":"module"}